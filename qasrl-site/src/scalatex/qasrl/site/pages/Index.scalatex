@package qasrl.site.pages

@import qasrl.site._

@param config: GenerationConfig

@import sitegen.render
@import sitegen.render.{Styles => S}
@import sitegen.render.Nav
@import sitegen.data
@import scalacss.ScalatagsCss._
@import scalacss.DevDefaults._

@import scalacss.internal.{Css, Renderer}
@import scalatags.Text.TypedTag
@def scalatagsStyleTagRenderer(implicit s: Renderer[String]): Renderer[TypedTag[String]] = {
  // workaround to prevent the default style tag renderer from escaping quotes in the CSS
  new Renderer[TypedTag[String]] {
    override def apply(css: Css) = scalatags.Text.all.tag("style")(`type` := "text/css", raw(s(css)))
  }
}

@html(lang := "en")
  @head
    @meta(charset := "utf-8")
    @meta(
      name := "viewport",
      content := "width=device-width, initial-scale=1, shrink-to-fit=no")
    @config.bootstrapLink
    @tag("title"){QA-SRL}
    @S.render(scalatagsStyleTagRenderer, implicitly[scalacss.internal.Env])
  @body(
    style := "padding-top: 4.5rem; position: relative;",
    attr("data-spy") := "scroll",
    attr("data-target") := "#navbarCollapse",
    attr("data-offset") := "200")

    @object navStateContainer {
      implicit val navState = new Nav.State
    }
    @import navStateContainer._

    @tag("main")(id := "home", role := "main", S.anchor, S.mainContainer)
      @div(S.leadBannerContainer)
        @h1{Browse QA-SRL + QANom}
        @p(S.leadText)
          QA-SRL with nominalizations on 8,000 sentences.
        @a(S.leadButton, S.leadButton0, href := "http://browse.qasrl.org", role := "button")
          Explore the data Â»

      @Nav.sectionHeading("about", "About", true)(
        "About the\nQA-SRL Project"
      )
      @p
        We are a @a(href := "#team"){group of researchers} spanning
        the @a(href := "https://www.cs.washington.edu/"){University of Washington},
        @a(href := "http://cs.biu.ac.il//en/"){Bar-Ilan University},
        @a(href := "https://research.fb.com/category/facebook-ai-research/"){Facebook AI Research}, and
        the @a(href := "https://allenai.org/"){Allen Institute for Artificial Intelligence}.
        Our goal is to advance the state of the art in broad-coverage natural language understanding.
        We believe the way forward is with new datasets that are:
      @ul(S.list)
        @li
          @b{Crowdsourced}: modern machine learning methods require big training sets, which means
          scalability is a top priority.
        @li
          @b{Richly structured}: in order to improve over
          @a(href := "https://allennlp.org/elmo"){powerful}
          @a(href := "https://blog.openai.com/language-unsupervised/"){representations}
          learned from unlabeled data, we need strong, structured supervision signal.
        @li
          @b{Extensible}: annotation schemas should be flexible enough to accommodate new semantic
          phenomena without requiring expensive rounds of reannotation or brittle postprocessing rules.

      @p
        Our @a(href := "#publications"){research} explores a variety of points in the design space
        spanned by these criteria. The common feature between our projects is
        @b{using natural language to annotate natural language}.
        This results in interpretable structures that can be annotated by non-experts at scale,
        which have the further advantage of being agnostic to choices of linguistic formalism.

      @Nav.sectionHeading("publications", "Publications", true){Publications}
      @div(publications.map(render.bibEntryWeb))

      @Nav.sectionHeading("team", "Team", true){Team}
      @div(cls := "container-fluid")
        @div(cls := "row")(team.map(render.collaborator))

    @Nav.bar("QA-SRL")

    @config.clipboardScripts
    @config.bootstrapScripts